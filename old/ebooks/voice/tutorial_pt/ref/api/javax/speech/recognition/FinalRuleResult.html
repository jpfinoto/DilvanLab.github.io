<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Sun Oct 25 19:43:23 EST 1998
-->
<title>
Interface javax.speech.recognition.FinalRuleResult
</title>
<link rel ="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body bgcolor="white">

<a name="navbar_top"><!-- --></a>
<table BORDER="0" WIDTH="100%">
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td colspan=3><a href="../../../overview-summary.html">Overview</a>&nbsp;| <a href="package-summary.html">Package</a>&nbsp;| <b>Class</b>&nbsp;| <a href="tree.html">Tree</a>&nbsp;| <a href="../../../index-all.html">Index</a>&nbsp;| <a href="../../../help.html">Help</a></td>
<td align=right valign=top rowspan=2><em>
</em>
</td>
</tr>
<tr>
<td><font size="-2">
<a href="FinalResult.html">PREV CLASS</a>&nbsp;| <a href="Grammar.html">NEXT CLASS</a></font>
</td>
<td><font size="-2">
<a href="../../../index.html" target="_top">FRAMES</a>
&nbsp;| <a href="FinalRuleResult.html" target="_top">NO FRAMES</a>
</font>
</td>
<td></td>
<td></td>
</tr>
<tr>
<td valign=top><font size="-2">
SUMMARY: &nbsp;INNER&nbsp;| FIELD&nbsp;| CONSTR&nbsp;| <a href="#method_summary">METHOD</a></font>
</td>
<td valign=top><font size="-2">
DETAIL: &nbsp;FIELD&nbsp;| CONSTR&nbsp;| <a href="#method_detail">METHOD</a></font>
</td>
</tr>
</table>
<hr>
<h2>
Interface javax.speech.recognition.FinalRuleResult
</h2>
<hr>
<dl>
<dt>public abstract interface <b>FinalRuleResult</b><dt>extends <a href="../../../javax/speech/recognition/FinalResult.html">FinalResult</a></dl>
Provides information on a finalized result for an utterance that matches 
 a <code>RuleGrammar</code>.  A finalized result is one that is in
 either the <code>ACCEPTED</code> or <code>REJECTED</code> state
 (tested by the <code>getResultState</code> method of the 
 <code>Result</code> interface).
 <P>

 This interface provides the following information for 
 a finalized result for a <code>RuleGrammar</code> (in addition
 to the information provided through the <code>Result</code> and
 <code>FinalResult</code> interfaces):
 <P>

 <UL>
   <LI>N-best alternatives for the entire result.  For each alternative
       guess the interface provides the token sequence and the names
       of the grammar and rule matched by the tokens.
   <LI>Tags for the best-guess result.
 </UL>
 <P>

 Every <code>Result</code> object provided by a <code>Recognizer</code>
 implements the <code>FinalRuleResult</code> and the 
 <code>FinalDictationResult</code> interfaces (and by inheritence the 
 <code>FinalResult</code> and <code>Result</code> interfaces).  
 However, the methods of <code>FinalRuleResult</code>
 should only be called if the <code>Result.getGrammar</code>
 method returns a <code>RuleGrammar</code> and once the
 <code>Result</code> has been finalized with either an
 <code>RESULT_ACCEPTED</code> or <code>RESULT_REJECTED</code> event.
 Inappropriate calls will cause a <code>ResultStateError</code>.
 <P>
<p>
<dl>
<dt><b>See Also:</b><dd><a href="../../../javax/speech/recognition/RuleGrammar.html">RuleGrammar</a>, <a href="../../../javax/speech/recognition/Result.html">Result</a>, <a href="../../../javax/speech/recognition/FinalResult.html">FinalResult</a>, <a href="../../../javax/speech/recognition/FinalDictationResult.html">FinalDictationResult</a>, <a href="../../../javax/speech/recognition/Result.html#getResultState()">getResultState</a>, <a href="../../../javax/speech/recognition/Result.html#getGrammar()">getGrammar</a></dl>
<hr>

<p>
<a name="method_summary"><!-- --></a>
<table border="1" cellpadding="3" cellspacing="0" width=100%>
<tr BGCOLOR="#CCCCFF" class="TableSummaryHeadingColor">
<td colspan=2><font size="+2">
<b>Method Summary</b></font>
</td>
</tr>
<tr BGCOLOR="white" class="TableRowColor">
<td align=right valign=top width=1%><font size="-1">
<a href="../../../javax/speech/recognition/ResultToken.html">ResultToken</a>[]</font>
</td>
<td><b><a href="../../../javax/speech/recognition/FinalRuleResult.html#getAlternativeTokens(int)">getAlternativeTokens</a></b>(int nBest)
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the N-best token sequence for this result.  </td>
</tr>
<tr BGCOLOR="white" class="TableRowColor">
<td align=right valign=top width=1%><font size="-1">
int</font>
</td>
<td><b><a href="../../../javax/speech/recognition/FinalRuleResult.html#getNumberGuesses()">getNumberGuesses</a></b>()
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the number of guesses for this result.  </td>
</tr>
<tr BGCOLOR="white" class="TableRowColor">
<td align=right valign=top width=1%><font size="-1">
<a href="../../../javax/speech/recognition/RuleGrammar.html">RuleGrammar</a></font>
</td>
<td><b><a href="../../../javax/speech/recognition/FinalRuleResult.html#getRuleGrammar(int)">getRuleGrammar</a></b>(int nBest)
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the <code>RuleGrammar</code> matched by the nth guess.
 </td>
</tr>
<tr BGCOLOR="white" class="TableRowColor">
<td align=right valign=top width=1%><font size="-1">
<a href="../../../java/lang/String.html">String</a></font>
</td>
<td><b><a href="../../../javax/speech/recognition/FinalRuleResult.html#getRuleName(int)">getRuleName</a></b>(int nBest)
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the <code>RuleName</code> matched by the nth guess.
 </td>
</tr>
<tr BGCOLOR="white" class="TableRowColor">
<td align=right valign=top width=1%><font size="-1">
<a href="../../../java/lang/String.html">String</a>[]</font>
</td>
<td><b><a href="../../../javax/speech/recognition/FinalRuleResult.html#getTags()">getTags</a></b>()
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the list of tags matched by the best-guess token sequence.
 </td>
</tr>
</table>
&nbsp;
<p>
<a name="method_detail"><!-- --></a>
<table border="1" cellpadding="3" cellspacing="0" width=100%>
<tr BGCOLOR="#CCCCFF" class="TableSummaryHeadingColor">
<td colspan=1><font size="+2">
<b>Method Detail</b></font>
</td>
</tr>
</table>
<a name="getNumberGuesses()"><!-- --></a><h3>
getNumberGuesses</h3>
<pre>
public int <b>getNumberGuesses</b>()
                    throws <a href="../../../javax/speech/recognition/ResultStateError.html">ResultStateError</a></pre>
<dl>
<dd>Return the number of guesses for this result.  The guesses
 are numbered from 0 up.  The 0th guess is the best guess for
 the result and provides the same tokens as the <code>getBestTokens</code>
 method of the <code>Result</code> interface.
 <P>

 If only the best guess is available (no alternatives) the return
 value is 1.  If the result is was rejected (<code>REJECTED</code>
 state), the return value may be 0 if no tokens are available.  
 If a best guess plus alternatives are available, the return value 
 is greater than 1.
 <P>

 The integer parameter to the <code>getAlternativeTokens</code>, 
 <code>getRuleGrammar</code> and <code>getRuleName</code> methods 
 are indexed from <code>0</code> to <code>(getNumberGuesses()-1)</code>.
 <P><dd><dl>
<dt><b>Throws:</b><dd><a href="../../../javax/speech/recognition/ResultStateError.html">ResultStateError</a> - if called before a result is finalized<dt><b>See Also:</b><dd><a href="../../../javax/speech/recognition/Result.html#getBestTokens()">getBestTokens</a>, <a href="../../../javax/speech/recognition/Result.html#REJECTED">REJECTED</a>, <a href="../../../javax/speech/recognition/FinalRuleResult.html#getAlternativeTokens(int)">getAlternativeTokens</a>, <a href="../../../javax/speech/recognition/FinalRuleResult.html#getRuleGrammar(int)">getRuleGrammar</a>, <a href="../../../javax/speech/recognition/FinalRuleResult.html#getRuleName(int)">getRuleName</a></dl>
</dd>
</dl>
<hr>
<a name="getAlternativeTokens(int)"><!-- --></a><h3>
getAlternativeTokens</h3>
<pre>
public <a href="../../../javax/speech/recognition/ResultToken.html">ResultToken</a>[] <b>getAlternativeTokens</b>(int nBest)
                                                           throws <a href="../../../javax/speech/recognition/ResultStateError.html">ResultStateError</a></pre>
<dl>
<dd>Get the N-best token sequence for this result.  The <code>nBest</code>
 value should be in the range of <code>0</code> to 
 <code>(getNumberGuesses()-1)</code> inclusive.  For out-of-range
 values, the method returns <code>null</code>.
 <P>

 If <code>nBest==0</code>, the method returns the best-guess sequence 
 of tokens - identical to the token sequence returned by the 
 <code>getBestTokens</code> method of the <code>Result</code> interface
 for the same object.
 <P>

 If <code>nBest==1</code> (or 2, 3...) the method returns the 1st (2nd, 3rd...) 
 alternative to the best guess.
 <P>

 The number of tokens for the best guess and the alternatives do 
 not need to be the same.
 <P>

 The <code>getRuleGrammar(int)</code> and <code>getRuleName(int)</code>
 methods indicate which <code>RuleGrammar</code> and <code>ruleName</code>
 are matched by each alternative result sequence.
 <P>

 If the <code>Result</code> is in the <code>ACCEPTED</code> state (not rejected),
 then the best guess and all the alternatives are accepted.  Moreover, 
 each alternative set of tokens must be a legal match of the 
 <code>RuleGrammar</code> and <code>RuleName</code> returned by
 the <code>getRuleGrammar</code> and <code>getRuleName</code> methods.
 <P>

 If the <code>Result</code> is in the <code>REJECTED</code> state (not accepted),
 the recognizer is not confident that the best guess or any of the
 alternatives are what the user said.  Rejected guesses do not need
 to match the corresponding <code>RuleGrammar</code> and rule name.
 <P>

 <B>Example</B>
 <P>

 Say we have two simple grammars loaded and active for recognition.
 The first is <code>grammar.numbers</code> with a public rule
 <code>digits</code> that matches spoken digit sequences 
 (e.g. "1 2 3 4").  The grammar is <code>grammar.food</code>
 with the rule <code>whoAteWhat</code>
 which matches statements about eating (e.g. "he ate mine").
 [Yes, this is artificial!]
 <P>

 The user says "two eight nine" and the recognizer
 correctly recognizes the speech, but also provides 
 2 alternatives.  The 

 <pre>
  FinalRuleResult result = ...;
  result.getNumberGuesses() -&gt; 3

  result.getAlternativeTokens(0) -&gt; two eight nine // array of tokens
  result.getRuleGrammar(0) -&gt; [reference to <code>grammar.numbers</code>]
  result.getRuleName(0) -&gt; "digits"

  result.getAlternativeTokens(1) -&gt; you ate mine
  result.getRuleGrammar(1) -&gt; [reference to <code>grammar.food</code>]
  result.getRuleName(1) -&gt; "whoAteWhat"

  result.getAlternativeTokens(2) -&gt; two eight five
  result.getRuleGrammar(2) -&gt; [reference to <code>grammar.numbers</code>]
  result.getRuleName(2) -&gt; "digits"
 </pre><dd><dl>
<dt><b>Throws:</b><dd><a href="../../../javax/speech/recognition/ResultStateError.html">ResultStateError</a> - if called before a result is finalized<dt><b>See Also:</b><dd><a href="../../../javax/speech/recognition/FinalRuleResult.html#getRuleGrammar(int)">getRuleGrammar</a>, <a href="../../../javax/speech/recognition/FinalRuleResult.html#getRuleName(int)">getRuleName</a></dl>
</dd>
</dl>
<hr>
<a name="getRuleGrammar(int)"><!-- --></a><h3>
getRuleGrammar</h3>
<pre>
public <a href="../../../javax/speech/recognition/RuleGrammar.html">RuleGrammar</a> <b>getRuleGrammar</b>(int nBest)
                                                   throws <a href="../../../javax/speech/recognition/ResultStateError.html">ResultStateError</a></pre>
<dl>
<dd>Return the <code>RuleGrammar</code> matched by the nth guess.
 Return <code>null</code> if <code>nBest</code> is out-of-range.
 <P>

 <code>getRuleName</code> returns the rule matched in the 
 <code>RuleGrammar</code>.  See the documentation for
 <code>getAlternativeTokens</code> for a description of how
 tokens, grammars and rules correspond.
 <p>

 An application can use the parse method of the
 matched grammar to analyse a result.  e.g.

 <pre>
   int nBest = 2;
   FinalRuleResult res;
   RuleParse parse = res.getRuleGrammar(nbest).parse(
                              res.getAlternativeTokens(nBest), 
                              res.getRuleName(nBest));
 </pre><dd><dl>
<dt><b>Throws:</b><dd><a href="../../../javax/speech/recognition/ResultStateError.html">ResultStateError</a> - if called before a result is finalized<dt><b>See Also:</b><dd><a href="../../../javax/speech/recognition/RuleGrammar.html#parse(java.lang.String, java.lang.String)">parse</a>, <a href="../../../javax/speech/recognition/FinalRuleResult.html#getNumberGuesses()">getNumberGuesses</a>, <a href="../../../javax/speech/recognition/FinalRuleResult.html#getAlternativeTokens(int)">getAlternativeTokens</a>, <a href="../../../javax/speech/recognition/FinalRuleResult.html#getRuleName(int)">getRuleName</a></dl>
</dd>
</dl>
<hr>
<a name="getRuleName(int)"><!-- --></a><h3>
getRuleName</h3>
<pre>
public <a href="../../../java/lang/String.html">String</a> <b>getRuleName</b>(int nBest)
                            throws <a href="../../../javax/speech/recognition/ResultStateError.html">ResultStateError</a></pre>
<dl>
<dd>Return the <code>RuleName</code> matched by the nth guess.
 Return <code>null</code> if <code>nBest</code> is out-of-range.
 Typically used in combination with <code>getAlternativeTokens</code>
 and <code>getRuleGrammar</code> which return the corresponding
 tokens and grammar.
 <P>

 The documentation for <code>getAlternativeTokens</code> shows
 and example result with alternatives.
 <P><dd><dl>
<dt><b>Throws:</b><dd><a href="../../../javax/speech/recognition/ResultStateError.html">ResultStateError</a> - if called before a result is finalized<dt><b>See Also:</b><dd><a href="../../../javax/speech/recognition/RuleGrammar.html#parse(java.lang.String, java.lang.String)">parse</a>, <a href="../../../javax/speech/recognition/FinalRuleResult.html#getAlternativeTokens(int)">getAlternativeTokens</a>, <a href="../../../javax/speech/recognition/FinalRuleResult.html#getRuleGrammar(int)">getRuleGrammar</a></dl>
</dd>
</dl>
<hr>
<a name="getTags()"><!-- --></a><h3>
getTags</h3>
<pre>
public <a href="../../../java/lang/String.html">String</a>[] <b>getTags</b>()
                          throws <a href="../../../javax/speech/recognition/ResultStateError.html">ResultStateError</a></pre>
<dl>
<dd>Return the list of tags matched by the best-guess token sequence.
 The tags in the array are ordered strictly in the left to right
 order in which they would appear in JSGF.
 <P>

 For example, if the following
 simple Java Speech Grammar Format (JSGF) rule is active:

 <pre>
   public <cmd> = (open {ACT_OPEN} | close {ACT_CLOSE}) [(it{WHAT} now) {NOW}];
 </pre>

 and the user says "close it now", then getTags returns
 an array containing <code>{"ACT_CLOSE", "WHAT", "NOW"}</code>.
 Note how both the <code>{WHAT}</code> and <code>{NOW}</code> tags
 are attached starting from the word "it" but that <code>{TAG}</code>
 appears first in the array.  In effect, when tags start at the 
 same token, they are listed "bottom-up".
 <P>
 
 <code>getTags</code> does not indicate which tokens are matched by 
 which tags.  To obtain this information use the <code>parse</code> 
 method of the <code>RuleGrammar</code>.  Also, <code>getTags</code>
 only provides tags for the best guess.  To get tags for the
 alternative guesses using parsing through the <code>RuleGrammar</code>.
 <P>

 The string array returned by the <code>getTags</code> method of the 
 <code>RuleParse</code> object returned by parsing the best-guess
 token sequence will be the same as returned by this method.
 <P><dd><dl>
<dt><b>Throws:</b><dd><a href="../../../javax/speech/recognition/ResultStateError.html">ResultStateError</a> - if called before a result is finalized<dt><b>See Also:</b><dd><a href="../../../javax/speech/recognition/RuleGrammar.html#parse(java.lang.String, java.lang.String)">parse</a>, <a href="../../../javax/speech/recognition/RuleParse.html#getTags()">getTags</a></dl>
</dd>
</dl>
<hr>
<a name="navbar_bottom"><!-- --></a>
<table BORDER="0" WIDTH="100%">
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td colspan=3><a href="../../../overview-summary.html">Overview</a>&nbsp;| <a href="package-summary.html">Package</a>&nbsp;| <b>Class</b>&nbsp;| <a href="tree.html">Tree</a>&nbsp;| <a href="../../../index-all.html">Index</a>&nbsp;| <a href="../../../help.html">Help</a></td>
<td align=right valign=top rowspan=2><em>
</em>
</td>
</tr>
<tr>
<td><font size="-2">
<a href="FinalResult.html">PREV CLASS</a>&nbsp;| <a href="Grammar.html">NEXT CLASS</a></font>
</td>
<td><font size="-2">
<a href="../../../index.html" target="_top">FRAMES</a>
&nbsp;| <a href="FinalRuleResult.html" target="_top">NO FRAMES</a>
</font>
</td>
<td></td>
<td></td>
</tr>
<tr>
<td valign=top><font size="-2">
SUMMARY: &nbsp;INNER&nbsp;| FIELD&nbsp;| CONSTR&nbsp;| <a href="#method_summary">METHOD</a></font>
</td>
<td valign=top><font size="-2">
DETAIL: &nbsp;FIELD&nbsp;| CONSTR&nbsp;| <a href="#method_detail">METHOD</a></font>
</td>
</tr>
</table>
<hr>
<P align="center"> <font size=-1>Java<sup>TM</sup> Speech API<br>  Copyright 1997-1998 Sun Microsystems, Inc. All rights reserved<br>  Send comments to <a href="mailto:javaspeech-comments@sun.com">  javaspeech-comments@sun.com</a> </font> </P></body>
</html>
