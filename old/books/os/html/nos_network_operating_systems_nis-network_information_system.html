<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>4.&nbsp;NIS - Network Information System</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.67.0"><link rel="start" href="index.html" title="Operating Systems"><link rel="up" href="nos_network_operating_systems.html" title="Chapter&nbsp;6.&nbsp;Network Operating Systems"><link rel="prev" href="nos_network_operating_systems_nfs_network_file_system.html" title="3.&nbsp;NFS - Network File System"><link rel="next" href="nos_network_operating_systems_email.html" title="5.&nbsp;Electronic Mail"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.&nbsp;NIS - Network Information System</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="nos_network_operating_systems_nfs_network_file_system.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;6.&nbsp;Network Operating Systems</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="nos_network_operating_systems_email.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="nos_network_operating_systems_nis-network_information_system"></a>4.&nbsp;NIS - Network Information System</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Network Information System</strong></span></p><p><span class="bold"><strong>Definition:</strong></span></p><p>NIS provides generic database access facilities that can be used to distribute information such as that contained in the passwd and groups files to all hosts on your network.</p><p><span class="bold"><strong>Objectives:</strong></span></p><div class="itemizedlist"><ul type="circle"><li><p>To make the network appear just as a single system, with the same accounts on all hosts.</p></li><li><p>To provide an environment to your users that makes the network transparent.</p></li><li><p>To keep vital data such as user account information synchronized between all hosts.</p></li></ul></div><p><span class="bold"><strong>NIS comprises:</strong></span></p><div class="itemizedlist"><ul type="circle"><li><p>A RPC server.</p></li><li><p>A client-side library.</p></li><li><p>Several administrative tools.</p></li></ul></div><p><span class="bold"><strong>Note:</strong></span></p><p>Originally, NIS was called Yellow Pages, or YP, which is still widely used to informally refer this service. Yellow Pages is a trademark of British Telecom, which required Sun to drop that name.</p></li><li><p><span class="bold"><strong>Maps</strong></span></p><p>NIS keeps database information is in so-called maps containing key-value pairs.</p><p>Maps are stored on a central host running the NIS server, from which clients may retrieve the information through various RPC calls.</p><p><span class="bold"><strong>Creation:</strong></span></p><p>The maps are usually generated from master text files such as /etc/hosts or /etc/passwd.</p><p>For some files, several maps are created, one for each search key type:</p><pre class="programlisting"><span class="bold"><strong>Master File</strong></span>                                      <span class="bold"><strong>Maps </strong></span>
/etc/hosts                                       <span class="emphasis"><em>hosts.byname, hosts.byaddr</em></span> 
/etc/networks                                    <span class="emphasis"><em>networks.byname, netwosks.byaddr </em></span>
/etc/passwd                                      <span class="emphasis"><em>passwd.byname, passwd.byuid</em></span> 
/etc/group                                       <span class="emphasis"><em>group.byname, group.bygid</em></span> 
/etc/services                                    <span class="emphasis"><em>services.byname, services.bynumber</em></span> 
/etc/rpc                                         <span class="emphasis"><em>rpc.byname, rpc.bynumber</em></span> 
/etc/protocols                                   <span class="emphasis"><em>protocols.byname, protocols.bynumber</em></span> 
/usr/lib/aliases                                 <span class="emphasis"><em>mail.aliases</em></span></pre><p><span class="bold"><strong>ypcat:</strong></span></p><p>The command ypcat lists the maps in the same way the command cat would list the master files:</p><pre class="programlisting">% ypcat passwd</pre></li><li><p><span class="bold"><strong>NIS servers</strong></span></p><p>The NIS server is traditionally called ypserv.</p><p><span class="bold"><strong>Types:</strong></span></p><div class="itemizedlist"><ul type="circle"><li><p><span class="bold"><strong>For an average network</strong></span>: a single server usually suffices.</p></li><li><p><span class="bold"><strong>For big networks</strong></span>: Many servers synchronized servers in a master-slave scheme:</p><div class="itemizedlist"><ul type="disc"><li><p>Maps will be created only on the master server's host.</p></li><li><p>From there, they are distributed to all slaves.</p></li></ul></div></li></ul></div></li><li><p><span class="bold"><strong>NIS domains</strong></span></p><p><span class="bold"><strong>Definition:</strong></span></p><p>NIS domains are the collection of all hosts that share part of their system configuration data through NIS.</p><p><span class="bold"><strong>Characteristics:</strong></span></p><div class="itemizedlist"><ul type="circle"><li><p>NIS domains have a purely administrative function only.</p></li><li><p>They are mostly invisible to users, except for the sharing of passwords between all machines in the domain.</p></li><li><p>The name given to a NIS domain is relevant only to the administrators.</p></li><li><p>NIS domains determine which NIS server an application will query.</p></li></ul></div></li><li><p><span class="bold"><strong>Finding a NIS server:</strong></span></p><p><span class="bold"><strong>Configuration file:</strong></span></p><p>A file that names the host on which to find the server.</p><p><span class="bold"><strong>Disadvantage:</strong></span> This approach is inflexible, because it doesn't allow clients to use different servers, depending on their availability.</p><p><span class="bold"><strong>ybbind:</strong></span></p><p>ypbind probes for servers by broadcasting to the local IP-network; the first to respond is assumed to be the potentially fastest one and will be used in all subsequent NIS queries.</p><p><span class="bold"><strong>Disadvantage</strong></span>: ypbind blindly believes whoever answers, which could be a humble NIS server as well as a malicious intruder.</p></li><li><p><span class="bold"><strong>The Client Side of NIS </strong></span></p><p><span class="bold"><strong>Without NIS:</strong></span></p><p>Functions like:</p><div class="itemizedlist"><ul type="circle"><li><p>getpwnam(3), which return the account information associated with the given user name.</p></li><li><p>getpwuid(3), which return the account information associated with the given user id.</p></li></ul></div><p>Perform the requested lookup on the standard file, such as /etc/passwd.</p><p><span class="bold"><strong>With NIS:</strong></span></p><p>There is a NIS-aware implementation of these functions in the C-library.</p><p>They place RPC calls to have the NIS server look up the user name or id.</p></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="nos_network_operating_systems_nfs_network_file_system.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="nos_network_operating_systems.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="nos_network_operating_systems_email.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">3.&nbsp;NFS - Network File System&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;5.&nbsp;Electronic Mail</td></tr></table></div></body></html>