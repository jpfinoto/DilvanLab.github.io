<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>9.&nbsp;Images</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.67.0"><link rel="start" href="index.html" title="Distributed Programming using Java"><link rel="up" href="graphic_user_interface.html" title="Chapter&nbsp;7.&nbsp;Graphic User Interface"><link rel="prev" href="graphic_user_interface_awt_graphics.html" title="8.&nbsp;AWT Graphics"><link rel="next" href="applets.html" title="Chapter&nbsp;8.&nbsp;Applets"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">9.&nbsp;Images</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="graphic_user_interface_awt_graphics.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;7.&nbsp;Graphic User Interface</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="applets.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="graphic_user_interface_images"></a>9.&nbsp;<a href="/library/books/tutorial1.02/ui/drawing/usingImages.html" target="_top">Images</a></h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4562"></a>9.1.&nbsp;<a href="/library/books/tutorial1.02/ui/drawing/loadingImages.html" target="_top">Loading Images</a></h3></div></div></div><p>The Applet class uses two getImage() methods to load images:</p><div class="itemizedlist"><ul type="disc"><li><p>public Image getImage(URL url)</p></li><li><p>public Image getImage(URL url, String name)</p></li></ul></div><p>The Toolkit class declares two more getImage() methods to load images:</p><div class="itemizedlist"><ul type="disc"><li><p>public abstract Image getImage(URL url)</p></li><li><p>public abstract Image getImage(String filename)</p></li></ul></div><pre class="programlisting">Toolkit toolkit = Toolkit.getDefaultToolkit();
Image image1 = toolkit.getImage("imageFile.gif");
Image image2 = toolkit.getImage(new URL("http://java.sun.com/graphics.gif"));</pre><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4586"></a>9.1.1.&nbsp;Creating Images with MemoryImageSource</h4></div></div></div><p>With the help of an image producer such as the MemoryImageSource class, you can construct images from scratch:</p><pre class="programlisting">int w = 100;
int h = 100;
int[] pix = new int[w * h];
int index = 0;
for (int y = 0; y &lt; h; y++) {
    int red = (y * 255) / (h - 1);
    for (int x = 0; x &lt; w; x++) {
          int blue = (x * 255) / (w - 1);
          pix[index++] = (255 &lt;&lt; 24) | (red &lt;&lt; 16) | blue;
    }
}
Image img = createImage(new MemoryImageSource(w, h, pix, 0, w));
</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4593"></a>9.2.&nbsp;<a href="/library/books/tutorial1.02/ui/drawing/drawingImages.html" target="_top">Displaying Images</a></h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Normal size in the upper left corner of the Component area (0, 0):</p><p>g.drawImage(image, 0, 0, this);</p></li><li><p>Scaled to be 300 pixels wide and 62 pixels tall, starting at the coordinates (90, 0):</p><p>g.drawImage(myImage, 90, 0, 300, 62, this);</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>The drawImage() method returns after displaying the image data that has been loaded, so far.</p></td></tr></table></div><p><a href="../audio/Gui32.asf" target="_top"><img src="resources/asf.gif">Audio in Portuguese</a></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4615"></a>9.3.&nbsp;<a href="/library/books/tutorial1.02/ui/drawing/usingImages.html" target="_top">Image Filters</a></h3></div></div></div><div class="figure"><a name="d0e4619"></a><p class="title"><b>Figure&nbsp;7.36.&nbsp;Image Filters</b></p><div class="mediaobject"><img src="resources/GUI35.gif" width="479" height="77" alt="Image Filters"></div></div><div class="itemizedlist"><ul type="disc"><li><p>An image producer: It produces raw data for Image Objects and implements the ImageProducer interface.</p></li><li><p>An image consumer: It is an object interested in data produced by image producers and implements the ImageConsumer interface.</p></li><li><p>An image consumer: It is an object interested in data produced by image producers and implements the ImageConsumer interface.</p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4635"></a>9.3.1.&nbsp;<a href="/library/books/tutorial1.02/ui/drawing/useFilter.html" target="_top">Using an Image Filter</a></h4></div></div></div><p>Code for a rotation filter:</p><pre class="programlisting">ImageFilter filter = new RotateFilter(angle);
ImageProducer producer = new FilteredImageSource(sourceImage.getSource(),
                                                  filter);
resultImage = createImage(producer);
repaint();</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4643"></a>9.3.2.&nbsp;<a href="/library/books/tutorial1.02/ui/drawing/writeFilter.html" target="_top">Writing an Image Filter</a></h4></div></div></div><p>Creating an ImageFilter Subclass:</p><p>Image filters implement the ImageConsumer interface.</p><pre class="programlisting">void setDimensions(int width, int height);
void setProperties(Hashtable props);
void setColorModel(ColorModel model);
void setHints(int hintflags);
void setPixels(int x, int y, int w, int h,
               ColorModel model, byte pixels[],
               int off, int scansize);
void setPixels(int x, int y, int w, int h,
               ColorModel model, int pixels[],
               int off, int scansize);
void imageComplete(int status);</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>The ImageFilter class implements all the above methods so that they forward the method data to the filter's consumer.</p></td></tr></table></div><p><a href="../audio/Gui33.asf" target="_top"><img src="resources/asf.gif">Audio in Portuguese</a></p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4660"></a>9.4.&nbsp;The setPixels() method</h3></div></div></div><div class="figure"><a name="d0e4663"></a><p class="title"><b>Figure&nbsp;7.37.&nbsp;setPixels() Method</b></p><div class="mediaobject"><img src="resources/GUI36.gif" width="472" height="454" alt="setPixels() Method"></div></div><div class="itemizedlist"><ul type="disc"><li><p>x, y</p><p>Specify the location within the image at which this rectangle begins.</p></li><li><p>w, h</p><p>Specify the width and height, in pixels, of this rectangle.</p></li><li><p>model</p><p>Specifies the color model used by the data in the pixels array.</p></li><li><p>pixels[]</p><p>Specifies an array of pixels.</p></li><li><p>offset</p><p>Specifies the index of the first pixel in the rectangle.</p></li><li><p>scansize</p><p>Specifies the width of each row in the pixels array.</p></li></ul></div><p><a href="../audio/Gui34.asf" target="_top"><img src="resources/asf.gif">Audio in Portuguese</a></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="graphic_user_interface_awt_graphics.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="graphic_user_interface.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="applets.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">8.&nbsp;AWT Graphics&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;8.&nbsp;Applets</td></tr></table></div></body></html>